% install

# google-chrome
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb -P /tmp
sudo dpkg -i /tmp/google-chrome-stable_current_amd64.deb

# fcitx5-rime - 白霜拼音
sudo nala install -y fcitx5 \
  fcitx5-chinese-addons \
  fcitx5-frontend-gtk4 fcitx5-frontend-gtk3 fcitx5-frontend-gtk2 \
  fcitx5-frontend-qt5 fcitx5-rime
im-config -n fcitx5
mkdir -p ~/.local/share/fcitx5 && cd ~/.local/share/fcitx5
git clone --depth 1 https://github.com/gaboolic/rime-frost rime
cd rime && git pull

# zed
curl -f https://zed.dev/install.sh | sh

# zed preview
curl -f https://zed.dev/install.sh | ZED_CHANNEL=preview sh

# waybar
sudo nala install libspdlog-dev libgtkmm-3.0-dev libjsoncpp-dev libnl-genl-3-dev libupower-glib-dev \
  libpipewire-0.3-dev libplayerctl-dev libpulse-dev libxkbregistry-dev scdoc liburfkill-glib-dev \
  libdbusmenu-gtk3-dev libjack-dev libgps-dev libiniparser-dev libfftw3-dev portaudio19-dev libsdl2-dev
git clone --depth 1 https://github.com/Alexays/Waybar.git /tmp/Waybar && cd /tmp/Waybar/
meson setup build --wipe -Drfkill=enabled --prefix=/usr && sudo ninja -C build install

# rofi - wayland support
sudo nala install librust-xkbcommon-dev libgdk-pixbuf-2.0-dev libxcb-util-dev libxcb-ewmh-dev libxcb-icccm4-dev libmpdclient-dev libnl-3-dev \
  libalsa-ocaml-dev libxcb-randr0-dev libxcb-cursor-dev libxcb-xinerama0-dev libxcb-keysyms1-dev libstartup-notification0-dev flex bison \
  pandoc doxygen cppcheck ohcount
git clone --depth=1 https://github.com/lbonn/rofi.git /tmp/rofi && cd /tmp/rofi/
meson setup build --prefix=/usr && ninja -C build && sudo ninja -C build install

# clipboard - wl-clipboard + cliphist
git clone --depth 1 https://github.com/bugaevc/wl-clipboard.git /tmp/wl-clipboard && cd /tmp/wl-clipboard/
meson build/ --prefix=/usr --buildtype=release && sudo ninja -C build/ install
go install go.senan.xyz/cliphist@latest
sudo cp -vf $GOBIN/cliphist /usr/bin/

# flameshot - screenshot tool
sudo nala install -y g++ cmake build-essential qtbase5-dev qttools5-dev-tools qttools5-dev libqt5svg5-dev libkf5guiaddons-dev
sudo nala install -y libqt5dbus5 libqt5network5 libqt5core5a libqt5widgets5 libqt5gui5 libqt5svg5
git clone --depth 1 https://github.com/flameshot-org/flameshot.git /tmp/flameshot && cd /tmp/flameshot/
cmake -S . -B build \
  -DUSE_WAYLAND_CLIPBOARD=true \
  -DUSE_WAYLAND_GRIM=ON \
  && cmake --build build \
  && sudo cmake --install build

# tdf - A terminal-based PDF viewer.
sudo nala install -y libpoppler-dev libpoppler-glib-dev
git clone --recursive https://github.com/itsjunetime/tdf.git /tmp/tdf && cd /tmp/tdf/
cargo build --release && cp target/release/tdf ~/.local/bin/

# pnpm
curl -fsSL https://get.pnpm.io/install.sh | sh -

# wechat
wget "https://dldir1v6.qq.com/weixin/Universal/Linux/WeChatLinux_x86_64.deb" -P /tmp/
sudo dpkg -i /tmp/WeChatLinux_x86_64.deb

# Vimix cursor
git clone --depth 1 https://github.com/vinceliuice/Vimix-cursors.git /tmp/Vimix-cursors && cd /tmp/Vimix-cursors/
mkdir -p ~/.local/share/icons/
cp -r ./dist ~/.local/share/icons/Vimix
cp -r ./dist-white ~/.local/share/icons/Vimix-white

# swappy
git clone --depth 1 https://github.com/jtheoof/swappy.git /tmp/swappy && cd /tmp/swappy/
meson setup build && sudo ninja -C build/ install

# lazyvim
[[ -d "$HOME/.config/nvim" ]] && mv ~/.config/nvim ~/.config/nvim.bak
[[ -d "$HOME/.local/share/nvim" ]] && mv ~/.local/share/nvim ~/.local/share/nvim.bak
git clone --depth 1 https://github.com/LazyVim/starter ~/.config/nvim
rm -rf ~/.config/nvim/.git

# dataflare
wget "https://assets.dataflare.app/release/linux/x86_64/Dataflare.AppImage" -O ~/.local/bin/dataflare
chmod +x ~/.local/bin/dataflare

# lynx - Lynx Proxy is a high-performance and flexible proxy tool developed in Rust
curl --proto '=https' --tlsv1.2 -LsSf https://github.com/suxin2017/lynx-server/releases/latest/download/lynx-cli-installer.sh | sh

# postgresql-client-17
sudo nala install -y wget gnupg2 lsb-release
wget -qO - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo gpg --dearmor -o /usr/share/keyrings/pgdg.gpg
echo "deb [signed-by=/usr/share/keyrings/pgdg.gpg] http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" \
  | sudo tee /etc/apt/sources.list.d/pgdg.list
sudo apt update
sudo apt install postgresql-client-17

# tofi
sudo nala install -y libfreetype-dev libcairo2-dev libpango1.0-dev libwayland-dev libxkbcommon-dev libharfbuzz-dev
git clone --depth 1 https://github.com/philj56/tofi.git /tmp/tofi && cd /tmp/tofi
meson setup build && sudo ninja -C build/ install

# isd - a better way to work with systemd units
uv tool install --python=3.11 isd-tui

# somo - A friendly alternative to netstat for socket and port monitoring on Linux
cargo install somo

# CCPlugins
curl -sSL https://raw.githubusercontent.com/brennercruvinel/CCPlugins/main/install.sh | bash

# ipfs
brew install ipfs

# espanso
sudo nala update && sudo nala install build-essential git libx11-dev libxtst-dev libxkbcommon-dev libdbus-1-dev libssl-dev libwxgtk3.*-dev
sudo apt --fix-broken install
wget https://github.com/espanso/espanso/releases/latest/download/espanso-debian-wayland-amd64.deb -P /tmp/
sudo dpkg -i /tmp/espanso-debian-wayland-amd64.deb
sudo setcap "cap_dac_override+p" $(which espanso)

# nvidia-smi
sudo nala remove -y --purge nvidia-*
sudo nala update && sudo nala upgrade -y
sudo nala install -y build-essential linux-headers-$(uname -r)
sudo add-apt-repository ppa:graphics-drivers/ppa -y
sudo nala update
sudo nala install -y $(ubuntu-drivers devices 2>/dev/null | awk '/recommended/{print $3}')

# mise
zinit ice if'[[ ! -x $commands[mise] ]]' lucid as"program" from"gh-r" id-as"mise" \
  atclone"mv mise* ~/.local/bin/mise" \
  atpull"%atclone"
zinit light jdx/mise

# alacritty
zinit ice if'[[ -n $DISPLAY ]]' lucid as"program" id-as"alacritty" \
  atclone'export PATH="$HOME/.cargo/bin:$PATH"' \
  atclone"cargo build --release --no-default-features --features=wayland" \
  atclone"sudo cp target/release/alacritty /usr/bin" \
  atclone"sudo cp extra/logo/alacritty-term.svg /usr/share/pixmaps/Alacritty.svg" \
  atclone"sudo desktop-file-install extra/linux/Alacritty.desktop" \
  atclone"sudo update-desktop-database" \
  atpull"%atclone"
zinit light alacritty/alacritty

# sing-box
zinit ice if'[[ ! -x $commands[sing-box] ]]' lucid as"program" from"gh-r" id-as"sing-box" \
  bpick"sing-box-*-linux-amd64.tar.gz" \
  atclone"mv */sing-box ~/.local/bin/" \
  atclone"sudo setcap cap_net_admin=+ep ~/.local/bin/sing-box" \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light SagerNet/sing-box

# curlie
zinit ice if'[[ ! -x $commands[curlie] ]]' lucid as"command" from"gh-r" id-as"curlie" \
  atclone"mv curlie ~/.local/bin/" \
  atpull"%atclone"
zinit light rs/curlie

# hurl
zinit ice if'[[ ! -x $commands[hurl] ]]' lucid as"command" from"gh-r" id-as"hurl" \
  atclone"mv */bin/* ." \
  atclone"mv */completions/_hurl ." \
  atclone"mv */completions/_hurlfmt ." \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light Orange-OpenSource/hurl

# fx - Command-line tool and terminal JSON viewer
zinit ice if'[[ ! -x $commands[fx] ]]' lucid as"command" from"gh-r" id-as"fx" \
  atclone"mv fx* ~/.local/bin/fx"
zinit light antonmedv/fx

# gh
zinit ice if'[[ ! -x $commands[gh] ]]' lucid as"command" from"gh-r" id-as"gh" \
  atclone"sudo mv */bin/gh /usr/bin" \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light cli/cli

# glow - Glow is a terminal-based markdown reader designed from the ground up to bring out the beauty—and power—of the CLI
zinit ice if'[[ ! -x $commands[glow] ]]' lucid as"command" from"gh-r" id-as"glow" \
  atclone"mv */glow ." \
  atclone"mv */completions/glow.zsh _glow" \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light charmbracelet/glow

# grex - A command-line tool and library for generating regular expressions from user-provided test cases
zinit ice if'[[ ! -x $commands[grex] ]]' lucid as"command" from"gh-r" id-as"grex"
zinit light pemistahl/grex

# procs - procs is a replacement for ps written in Rust
zinit ice if'[[ ! -x $commands[procs] ]]' lucid as"command" from"gh-r" id-as"procs"
zinit light dalance/procs

# ripgrep - ripgrep recursively searches directories for a regex pattern
zinit ice if'[[ ! -x $commands[rg] ]]' lucid as"command" from"gh-r" id-as"rg" \
  atclone"sudo mv */rg /usr/bin" \
  atclone"mv */complete/_rg ." \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light burntSushi/ripgrep

# yazi - file browser
zinit ice if'[[ ! -x $commands[yazi] ]]' lucid as"command" from"gh-r" id-as"yazi" \
  bpick"yazi-x86_64-unknown-linux-musl.zip" \
  atclone"mv yazi*/* ." \
  atclone"mv comp*/_ya ." \
  atclone"mv comp*/_yazi ." \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light sxyazi/yazi

# fscan
zinit ice if'[[ ! -x $commands[fscan] ]]' lucid as"command" from"gh-r" id-as"fscan" \
  bpick"fscan"
zinit light shadow1ng/fscan

# sttr
zinit ice if'[[ ! -x $commands[sttr] ]]' lucid as"command" from"gh-r" id-as"sttr" \
  atclone"./sttr completion zsh > _sttr" \
  atclone"mv sttr ~/.local/bin/" \
  atpull"%atclone"
zinit light abhimanyu003/sttr

# dysk - A linux utility to get information on filesystems, like df but better
zinit ice if'[[ ! -x $commands[dysk] ]]' lucid as"command" from"gh-r" id-as"dysk" \
  atclone"mv */completion/_dysk ." \
  atclone"mv */x86_64-unknown-linux-musl/dysk ." \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light Canop/dysk

# rainfrog - a database management tui
zinit ice if'[[ -n $DISPLAY ]]' lucid as"command" from"gh-r" id-as"rain" \
  atclone"mv rainfrog rain" \
  atpull"%atclone"
zinit light achristmascarl/rainfrog

# codex
zinit ice if'[[ ! -x $commands[codex] ]]' lucid as"program" from"gh-r" id-as"codex" \
  bpick"codex-x86_64-unknown-linux-musl.tar.gz" \
  atclone"mv codex* codex" \
  atpull"%atclone"
zinit light openai/codex

# claude-code
zinit ice if'[[ ! -x $commands[claude] ]]' lucid as"program" run-atpull id-as"claude" \
  atclone"bun install -g @anthropic-ai/claude-code" \
  atclone"bun install -g ccstatusline@latest" \
  atpull"%atclone"
zinit light zdharma-continuum/null

# xh
zinit ice if'[[ ! -x $commands[xh] ]]' lucid as"program" from"gh-r" id-as"xh" \
  extract"!" \
  atclone"mv completions/_xh ./" \
  atclone"rm -rf */" \
  atpull"%atclone"
zinit light ducaale/xh

# tw - view and query tabular data files, such as CSV, TSV, and parquet
zinit ice if'[[ ! -x $commands[tw] ]]' lucid as"program" from"gh-r" id-as"tw" \
  atclone"uget shshemi/tabiew tabiew-x86_64-unknown-linux-gnu.deb" \
  atclone"sudo dpkg -i /tmp/tabiew.deb" \
  atclone"rm -rf ./*" \
  atpull"%atclone"
zinit light shshemi/tabiew

# nping
zinit ice if'[[ ! -x $commands[nping] ]]' lucid as"program" from"gh-r" id-as"nping" \
  bpick"nping-x86_64-unknown-linux-gnu.tar.gz"
zinit light hanshuaikang/Nping

# oryx - sniffing network traffic using eBPF on Linux
zinit ice if'[[ ! -x $commands[oryx] ]]' lucid as"program" from"gh-r" id-as"oryx" \
  bpick"oryx-x86_64-unknown-linux-musl" \
  atclone"sudo mv oryx-x86_64-unknown-linux-musl /usr/bin/oryx" \
  atpull"%atclone"
zinit light pythops/oryx

# oha - HTTP load generator, inspired by rakyll/hey with tui animation
zinit ice if'[[ ! -x $commands[oha] ]]' lucid as"program" from"gh-r" id-as"oha" \
  bpick"oha-linux-amd64" \
  atclone"mv oha-linux-amd64 oha" \
  atpull"%atclone"
zinit light hatoo/oha

# heynote - A dedicated scratchpad for power users
zinit ice if'[[ ! -x $commands[heynote] ]]' lucid as"program" from"gh-r" id-as"heynote" \
  bpick"Heynote_*_x86_64.AppImage" \
  atclone"mv heynote_*_x86_64.appimage ~/.local/bin/heynote" \
  atpull"%atclone"
zinit light heyman/heynote

# yaak - The most intuitive desktop API client
zinit ice if'[[ ! -x $commands[yaak] ]]' lucid as"program" from"gh-r" id-as"yaak" \
  atclone"uget mountain-loop/yaak amd64.deb$" \
  atclone"sudo dpkg -i /tmp/yaak.deb" \
  atclone"rm -rf ./*" \
  atpull"%atclone"
zinit light mountain-loop/yaak

# xan - The CSV magician
zinit ice if'[[ ! -x $commands[xan] ]]' lucid as"program" from"gh-r" id-as"xan"
zinit light medialab/xan

# prek - pre commint hook
uv tool install prek

# hl - A fast and powerful log viewer and processor that converts JSON logs or logfmt logs into a clear human-readable format
zinit ice if'[[ ! -x $commands[hl] ]]' lucid as"program" from"gh-r" id-as"hl" \
  atclone"curl -sSfL https://github.com/pamburus/hl/releases/latest/download/hl-linux-x86_64-musl.tar.gz | tar xz" \
  atclone"mv hl ~/.local/bin/" \
  atpull"%atclone"
zinit light pamburus/hl

# sing-box-script
bash <(wget -qO- -o- https://github.com/233boy/sing-box/raw/main/install.sh)

