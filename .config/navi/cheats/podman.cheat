% podman

# regist server
podman generate systemd \
  --name <name> \
  --restart-policy <policy> \
  --files

# export volume to remote server
podman volume export \
  <name> -o - |
  ssh <host> \
  "podman volume create <name> && podman volume import <name> -"

$ name: podman container list --all --format json | jq ".[] | .Names[]"
$ policy: echo "always|unless-stopped|on-failure" | tr "|" "\n"

% podman, run
@ envs

# postgresql
mkdir -p ~/.postgres
podman run -d --name postgres \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=changeme \
  -e PGDATA=/var/lib/postgresql/data/pgdata \
  -p 5432:5432 \
  -v postgres:/var/lib/postgresql/data \
  --restart=unless-stopped \
  postgres:latest

# stirling-pdf
podman run -d --name stirling-pdf \
  -e DOCKER_ENABLE_SECURITY=false \
  -e INSTALL_BOOK_AND_ADVANCED_HTML_OPS=false \
  -e LANGS=en_GB \
  -p 8080:8080 \
  -v ./data:/usr/share/tessdata \
  -v ./configs:/configs \
  -v ./logs:/logs \
  -v ./files:/customFiles \
  --restart=unless-stopped \
  frooodle/s-pdf:latest

# pairdrop
podman run -d --name pairdrop \
  -e PUID=1000 \
  -e PGID=1000 \
  -e WS_SERVER=false \
  -e WS_FALLBACK=false \
  -e RTC_CONFIG=false \
  -e RATE_LIMIT=false \
  -e DEBUG_MODE=false \
  -e TZ=Etc/UTC \
  -p 0.0.0.0:3000:3000 \
  --restart=unless-stopped \
  lscr.io/linuxserver/pairdrop 

# uptime-kuma:3001
podman run -d --name uptime-kuma \
  -v uptime-kuma:/app/data \
  --network=host \
  louislam/uptime-kuma:1

# beszel: a lightweight server monitoring
mkdir -p ~/.beszel_data
podman run -d --name beszel \
  -p 8090:8090 \
  -v beszel_data:/beszel_data \
  --restart=unless-stopped \
  docker.io/henrygd/beszel

# mazanoke: A self-hosted local image optimizer that runs in your browser.
podman run -d --name mazanoke \
  -p 3474:80 \
  --restart=unless-stopped \
  ghcr.io/civilblur/mazanoke:latest

# attu milvus webui
podman run -d --name attu \
  -e MILVUS_URL=<host>:19530 \
  -p 3000:3000 \
  --restart=always \
  zilliz/attu:latest

# open-webui
podman run -d --name open-webui \
  -p 8080:8080 \
  -v open-webui:/app/backend/data \
  --restart=always \
  ghcr.io/open-webui/open-webui:main

# prometheus
podman run -d --name prometheus \
  -p 127.0.0.1:9090:9090 \
  --restart=always \
  prom/prometheus

# redis
podman run -d --name redis \
  -e REDIS_PASSWORD=changeme \
  -p 6379:6379 \
  -v redis:/data \
  --network=redis_net \
  redis:latest

# redisinsight - redis gui
podman run -d --name redisinsight \
  -p 5540:5540 \
  -v redisinsight:/data \
  --network=redis_net \
  redis/redisinsight:latest

# new-api:3000
podman run -d --name new-api \
  -e TZ=Asia/Shanghai \
  -v new-api:/data \
  --env-file .env \
  --network=host \
  --restart=always \
  calciumion/new-api:latest

# gemini-balance:8000
podman run -d --name gemini-balance \
  -v gemini-balance:/app/data \
  --env-file .env \
  --network=host \
  ghcr.io/snailyp/gemini-balance:latest

# mysql
podman run -d --name mysql \
  -e MYSQL_ROOT_PASSWORD=changeme \
  -p 3306:3306 \
  mysql:latest

# rustfs
podman run -d --name rustfs \
  -e RUSTFS_ACCESS_KEY=admin \
  -e RUSTFS_SECRET_KEY=changeme \
  -e RUSTFS_CONSOLE_ENABLE=true \
  -e RUSTFS_SERVER_DOMAINS=example.com \
  -p 9000:9000 \
  -v rustfs:/data \
  -v /var/log/rustfs:/logs \
  rustfs/rustfs:latest

